  on:
    push:
      branches:
        - main
  jobs:
    unit_test:
      runs-on: [ubuntu-latest]
      steps:
        - name: Checkout to the repo in the runner
          uses: actions/checkout@v4

        - name: Set up JDK 17
          uses: actions/setup-java@v2
          with:
            java-version: '17'
            distribution: 'temurin'

        - name: Build with Maven
          run: mvn package

        - name: Printing Directory structure
          run: ls -R target/

        - name: Report
          uses: dorny/test-reporter@v1
          if: always()
          with:
            name: Maven Tests
            path: target/surefire-reports/*.xml
            reporter: java-junit
            fail-on-error: true